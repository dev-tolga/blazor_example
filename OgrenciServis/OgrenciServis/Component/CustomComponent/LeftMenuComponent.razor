@using OgrenciServis.Component.BaseComponent
@using OgrenciServis.Data

<DivComponent ClassName="@NavMenuCssClass" OnClick="ToggleNavMenu">
    <ul class="nav flex-column">
        <li class="nav-item px-3">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <span class="oi iconify" data-icon="flat-color-icons:home" data-inline="false" aria-hidden="true"></span> Ana Sayfa
            </NavLink>
        </li>
        @foreach (Menu item in MenuList)
        {
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="@item.LinkName">
                    <span class="oi iconify" style="" data-icon="@item.DataIcon" data-inline="false" aria-hidden="true"></span> @item.Title
                </NavLink>
            </li>
        }
    </ul>
</DivComponent>

@code {
    List<Menu> MenuList { get; set; }

    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

    protected override Task OnInitializedAsync()
    {
        MenuDoldur();
        return base.OnInitializedAsync();
    }

    private void MenuDoldur()
    {
        MenuList = new List<Menu>();
        MenuList.Add(new Menu { DataIcon = "emojione:school", Title = "Okul" ,LinkName="okul"}); ;
        MenuList.Add(new Menu { DataIcon = "flat-color-icons:businesswoman", Title = "Veli" ,LinkName="veli"});
        MenuList.Add(new Menu { DataIcon = "flat-color-icons:graduation-cap", Title = "Öğrenci",LinkName="ogrenci" });
        MenuList.Add(new Menu { DataIcon = "flat-color-icons:assistant", Title = "Hostes",LinkName="hostes" });
        MenuList.Add(new Menu { DataIcon = "flat-color-icons:businessman", Title = "Şoför" ,LinkName="sofor"});
        MenuList.Add(new Menu { DataIcon = "emojione-bus", Title = "Araba" ,LinkName="araba"});
    }
}
